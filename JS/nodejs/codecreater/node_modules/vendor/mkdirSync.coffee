fs = require('fs');
 
exports.mkdirSync = ( url,mode,cb )->
	path = require( "path" )
	arr = url.split("/")
	mode = mode || 0o0755
	cb = cb || ()-> a=1
	if not arr[0]
		arr[0] = '/'
	if arr[0] is "."
		arr.shift()
	if not arr[arr.length-1]
		arr = arr[0..-2]
	if arr[0] is ".."
		arr.splice( 0, 2, arr[0]+"/"+arr[1] )
	inner = ( cur )->
		if not path.existsSync( cur )
			fs.mkdirSync( cur, mode )
		if arr.length
			inner( cur + "/"+arr.shift() )
		else
			cb()
	arr.length && inner( arr.shift() )