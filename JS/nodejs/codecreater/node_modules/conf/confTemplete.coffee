Utils = require 'utils'
exports.renderConf = ( options )->
	path = Utils.getJavaDirPath options
	javaName = Utils.getJavaName( options.FUNCTION )
	javapath = path + javaName

	packageName = Utils.getPackageByPath javapath #包名
	javaName = Utils.getJavaNameByPath javapath #类名
	serviceName = javaName.substring( 0, 1 ).toLowerCase() + javaName.substring( 1 )
	
	return """
		<?xml version="1.0" encoding="UTF-8"?>
		<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

		<beans>
			<bean id="#{serviceName}" class="#{packageName}.#{javaName}Cmd" singleton="false">
				<property name="#{serviceName}Service"><ref bean="#{serviceName}Service"/></property>
			</bean>
			
			<bean id="#{serviceName}Domain" class="#{packageName}.#{javaName}Domain"> </bean>
			<bean id="#{serviceName}Service" class="#{packageName}.#{javaName}Service">
				<property name="#{serviceName}Domain"><ref bean="#{serviceName}Domain"/></property>
				<property name="transactionTemplate"><ref bean="jdbcTransactionTemplate"/></property>
			</bean>
		</beans>
	"""